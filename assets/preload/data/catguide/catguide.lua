local allowStart=false
function onStartCountdown()
runTimer('song', 0.1, 1)
	if allowStart==false then
		setProperty('inCutscene', true)
		return Function_Stop;
	end
	return Function_Continue;
end
function onCreate() -- bad script tbh
setPropertyFromClass('flixel.FlxG', 'mouse.visible', true);
   makeLuaSprite('bg', 'catUnit/guideBG', 0, 0)
   addLuaSprite('bg', true)
   setObjectCamera('bg', 'other')
   scaleObject('bg', 1, 1)
   makeLuaSprite('board1', 'catUnit/boardBG', 0, 0)
   addLuaSprite('board1', true)
   setObjectCamera('board1', 'other')
   scaleObject('board1', 1, 1) 
   makeLuaSprite('board2', 'catUnit/boardBG', 0, 658)
   addLuaSprite('board2', true)
   setObjectCamera('board2', 'other')
   scaleObject('board2', 1, 1)    
   setProperty('board2.flipY', true)
   
   makeLuaSprite('typeLine', nil, 0, 65)
   makeGraphic('typeLine', 205, 45, '000000')
   addLuaSprite('typeLine', true)
   setObjectCamera('typeLine', 'other')
   setProperty('typeLine.alpha', 0.75)

   makeLuaSprite('antiTrait', nil, 950, 85)
   makeGraphic('antiTrait', 355, 50, '737373')
   addLuaSprite('antiTrait', true)
   setObjectCamera('antiTrait', 'other')
   setProperty('antiTrait.alpha', 0.9) 
   makeLuaSprite('effect', nil, 1145, 135)
   makeGraphic('effect', 345, 45, '4A4A4A')
   addLuaSprite('effect', true)
   setObjectCamera('effect', 'other')
   setProperty('effect.alpha', 0.9) 
   makeLuaSprite('alien', 'catUnit/Anti_Alien', 1234, 87.5)
   addLuaSprite('alien', true)
   setObjectCamera('alien', 'other')
   scaleObject('alien', 1, 1)   
   setProperty('alien.color', getColorFromHex('696969'))
   
   makeLuaSprite('attackType1', 'catUnit/Single_Attack', 1240, 137.5)
   addLuaSprite('attackType1', true)
   setObjectCamera('attackType1', 'other')
   scaleObject('attackType1', 1, 1) 
   setProperty('attackType1.visible', true)   
   makeLuaSprite('attackType2', 'catUnit/Area_Attack', 1240, 137.5)
   addLuaSprite('attackType2', true)
   setObjectCamera('attackType2', 'other')
   scaleObject('attackType2', 1, 1)    
   setProperty('attackType2.visible', false)
   
   makeLuaSprite('massive', 'catUnit/Massive_Damage', 1195, 137.5)
   addLuaSprite('massive', true)
   setObjectCamera('massive', 'other')
   scaleObject('massive', 1, 1)    
   setProperty('massive.visible', false) 
   makeLuaSprite('KBimmunity', 'catUnit/Knockback_Immunity', 1150, 137.5)
   addLuaSprite('KBimmunity', true)
   setObjectCamera('KBimmunity', 'other')
   scaleObject('KBimmunity', 1, 1)    
   setProperty('KBimmunity.visible', false)    
   
   makeLuaText('guide', 'Cat Guide', 200, 5, 7.5)
   addLuaText('guide', true)
   setTextSize('guide', 35)
   setTextColor('guide', 'CF7423')
   setObjectCamera('guide', 'other')
   makeLuaText('type1', 'Normal', 200, 5, 70)
   addLuaText('type1', true)
   setTextSize('type1', 30)
   setTextColor('type1', 'FFFFFF')
   setObjectCamera('type1', 'other')   
   
   makeAnimatedLuaSprite('back', 'catUnit/back_button', -2, 612)
   addAnimationByPrefix('back', 'Idle', 'Idle', 16, true)
   addAnimationByPrefix('back', 'Anim', 'Anim', 16, true)   
   addLuaSprite('back', true)
   setObjectCamera('back', 'other')
   scaleObject('back', 1.2, 1.2)   
   
   makeLuaSprite('textBox', 'catUnit/captionHolder', 200, 450)
   addLuaSprite('textBox', true)
   setObjectCamera('textBox', 'other')
   scaleObject('textBox', 1, 1)    
   setProperty('textBox.visible', true)
   
   makeAnimatedLuaSprite('cat', 'Background/WalkingCats/waulterCat', 560, 310)
   addAnimationByPrefix('cat', 'Walk', 'Walk', 8, true)
   addLuaSprite('cat', true)
   setObjectCamera('cat', 'other')
   scaleObject('cat', 2.5, 2.5)  
   setProperty('cat.visible', true)
   makeAnimatedLuaSprite('catbf', 'catUnit/BFCATguide', 480, 180)
   addAnimationByPrefix('catbf', 'Idle', 'Idle', 24, true)
   addAnimationByPrefix('catbf', 'WOW', 'WOW', 24, true)   
   addLuaSprite('catbf', true)
   setObjectCamera('catbf', 'other')
   scaleObject('catbf', 0.65, 0.65)     
   objectPlayAnimation('catbf', 'Idle', false)
   setProperty('catbf.visible', false)   

   makeLuaText('catName1', '(Basic Cat)', 250, 200, 470)
   addLuaText('catName1', true)
   setTextSize('catName1', 30)
   setTextColor('catName1', 'FFFFFF')
   setObjectCamera('catName1', 'other')
   setProperty('catName1.visible', true)   
   makeLuaText('catDesc1', 'Basic Cat. (Single)', 350, 215, 505)
   addLuaText('catDesc1', true)
   setTextSize('catDesc1', 30)
   setTextColor('catDesc1', 'FFFFFF')
   setObjectCamera('catDesc1', 'other')
   setProperty('catDesc1.visible', true)
   
   makeLuaText('catName2', '(Boyfriend)', 250, 200, 470)
   addLuaText('catName2', true)
   setTextSize('catName2', 30)
   setTextColor('catName2', 'FFFFFF')
   setObjectCamera('catName2', 'other')
   setProperty('catName2.visible', false)    
   makeLuaText('catDesc2', 'Rap battle with enemies until they give up. (Area)', 800, 215, 505)
   addLuaText('catDesc2', true)
   setTextSize('catDesc2', 30)
   setTextColor('catDesc2', 'FFFFFF')
   setObjectCamera('catDesc2', 'other') 
   setProperty('catDesc2.visible', false)   

   makeLuaSprite('catIcon', 'catUnit/basicCaticonCard', 5, 120)
   addLuaSprite('catIcon', true)
   setObjectCamera('catIcon', 'other')
   scaleObject('catIcon', 0.6, 0.6)    
   setProperty('catIcon.visible', true)  
   makeLuaSprite('bfIcon', 'catUnit/BFiconCard', 5, 120)
   addLuaSprite('bfIcon', true)
   setObjectCamera('bfIcon', 'other')
   scaleObject('bfIcon', 0.6, 0.6)    
   setProperty('bfIcon.visible', false) 

   makeAnimatedLuaSprite('left', 'catUnit/left', -555, 312)
   addAnimationByPrefix('left', 'left', 'left', 24, true)
   addLuaSprite('left', true)
   setObjectCamera('left', 'other')
   scaleObject('left', 1, 1)    

   makeAnimatedLuaSprite('right', 'catUnit/right', 1200, 312)
   addAnimationByPrefix('right', 'right', 'right', 24, true)
   addLuaSprite('right', true)
   setObjectCamera('right', 'other')
   scaleObject('right', 1, 1)     
end
function onUpdate()
 getPropertyFromClass('FlxG', 'mouse.visible', true)
	if getPropertyFromClass('flixel.FlxG', 'keys.justPressed.ESCAPE') then
	   endSong()
	end 
	if getPropertyFromClass('flixel.FlxG', 'keys.justPressed.TAB') then
	   loadSong('catguide')
	end 

    if (getMouseX('camHUD') > getProperty('back.x') and getMouseX('camHUD') < getProperty('back.x')+ 106) and (getMouseY('camHUD') > getProperty('back.y') and getMouseY('camHUD') < getProperty('back.y')+ 112) then
       objectPlayAnimation('back', 'Anim', false)	
	else  
       objectPlayAnimation('back', 'Idle', false)		
	end  
    if (getMouseX('camHUD') > getProperty('back.x') and getMouseX('camHUD') < getProperty('back.x')+ 106) and (getMouseY('camHUD') > getProperty('back.y') and getMouseY('camHUD') < getProperty('back.y')+ 112) and mouseReleased('left') then
       loadSong('menu')
	   playSound('confirmBC', 1)	   
    end	
    if (getMouseX('camHUD') > getProperty('right.x') and getMouseX('camHUD') < getProperty('right.x')+ 72) and (getMouseY('camHUD') > getProperty('right.y') and getMouseY('camHUD') < getProperty('right.y')+ 108) and mouseReleased('left') then
       setProperty('alien.color', getColorFromHex('FFFFFF'))
       setProperty('attackType1.visible', false)  
       setProperty('attackType2.visible', true) 
       setProperty('massive.visible', true)    
       setProperty('KBimmunity.visible', true)    
       setProperty('cat.visible', false)   
       setProperty('catbf.visible', true)      
       setProperty('catName1.visible', false)
       setProperty('catDesc1.visible', false)
       setProperty('catName2.visible', true)  
       setProperty('catDesc2.visible', true)   
       setProperty('catIcon.visible', false)     
       setProperty('bfIcon.visible', true)  
       doTweenX('rightbye', 'right', 1405, 0.1, 'linear')	
       doTweenX('lefthi', 'left', 5, 0.1, 'linear') 	
	   playSound('confirmBC', 1)	   
    end	
    if (getMouseX('camHUD') > getProperty('left.x') and getMouseX('camHUD') < getProperty('left.x')+ 72) and (getMouseY('camHUD') > getProperty('left.y') and getMouseY('camHUD') < getProperty('left.y')+ 108) and mouseReleased('left') then
       setProperty('alien.color', getColorFromHex('696969'))
       setProperty('attackType1.visible', true)  
       setProperty('attackType2.visible', false) 
       setProperty('massive.visible', false)    
       setProperty('KBimmunity.visible', false)    
       setProperty('cat.visible', true)   
       setProperty('catbf.visible', false)      
       setProperty('catName1.visible', true)
       setProperty('catDesc1.visible', true)
       setProperty('catName2.visible', false)  
       setProperty('catDesc2.visible', false)   
       setProperty('catIcon.visible', true)     
       setProperty('bfIcon.visible', false) 
       doTweenX('leftbye', 'left', -555, 0.1, 'linear')	
       doTweenX('righthi', 'right', 1200, 0.1, 'linear')	
	   playSound('confirmBC', 1)	   
    end		
end

function onTimerCompleted(tag)
if tag == 'song' then playSound('menuBaseTheme', 1) runTimer('song', 97, 1) end
end  